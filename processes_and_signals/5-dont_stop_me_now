#!/usr/bin/env bash
# This script finds and kills the 4-to_infinity_and_beyond process
# shellcheck disable=SC2009

for pid in /proc/[0-9]*; do
  if [ -r "$pid/cmdline" ]; then
    cmd=$(tr '\0' ' ' < "$pid/cmdline")
    if [[ $cmd == *4-to_infinity_and_beyond* ]]; then
      kill "$(basename "$pid")"
      echo "Process 4-to_infinity_and_beyond with PID $(basename "$pid") has been killed."
      exit 0
    fi
  fi
done

echo "Process 4-to_infinity_and_beyond not found."
